var q=Object.defineProperty,x=Object.defineProperties;var C=Object.getOwnPropertyDescriptors;var i=Object.getOwnPropertySymbols;var w=Object.prototype.hasOwnProperty,h=Object.prototype.propertyIsEnumerable;var v=(e,o,s)=>o in e?q(e,o,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[o]=s,_=(e,o)=>{for(var s in o||(o={}))w.call(o,s)&&v(e,s,o[s]);if(i)for(var s of i(o))h.call(o,s)&&v(e,s,o[s]);return e},y=(e,o)=>x(e,C(o));var V=(e,o)=>{var s={};for(var l in e)w.call(e,l)&&o.indexOf(l)<0&&(s[l]=e[l]);if(e!=null&&i)for(var l of i(e))o.indexOf(l)<0&&h.call(e,l)&&(s[l]=e[l]);return s};import{k as I,i as j,l as B,s as N,b as d,o as R,c as U,e as t,w as r,a as m,t as $,p as E,f as L,j as P}from"./vendor.e9e2b289.js";import{_ as z}from"./index.c91c1e88.js";const A={name:"Login",setup(){const e=I({title:"Element Plus Admin",form:{username:"admin",password:"password"},rules:{username:[{required:!0,trigger:"blur"}],password:[{required:!0,trigger:"blur"}]},loading:!1}),{dispatch:o}=j(),{push:s,currentRoute:l}=B(),f=async()=>{try{const{access_token:a}=await o("user/login",e.form);if(a){const{query:g}=l.value,n=g,{redirect:u}=n,c=V(n,["redirect"]);await s({path:u||"/",query:_({},c)}),e.loading=!1}}catch(a){console.error(a),e.loading=!1}};return y(_({},N(e)),{login:f})}},b=e=>(E("data-v-1ebf2035"),e=e(),L(),e),D={class:"container flex-row center align-center"},F={class:"title"},Q=b(()=>m("i",{class:"el-icon-user"},null,-1)),T=b(()=>m("i",{class:"el-icon-lock"},null,-1)),G=P(" Login ");function H(e,o,s,l,f,g){const n=d("el-col"),a=d("el-input"),u=d("el-form-item"),c=d("el-button"),k=d("el-row"),S=d("el-form");return R(),U("div",D,[t(S,{ref:"loginForm",size:"large",model:e.form,rules:e.rules,class:"login-form m-3"},{default:r(()=>[t(k,null,{default:r(()=>[t(n,null,{default:r(()=>[m("h3",F,$(e.title),1)]),_:1}),t(n,null,{default:r(()=>[t(u,{prop:"username"},{default:r(()=>[t(a,{modelValue:e.form.username,"onUpdate:modelValue":o[0]||(o[0]=p=>e.form.username=p),placeholder:"Username"},{prefix:r(()=>[Q]),_:1},8,["modelValue"])]),_:1})]),_:1}),t(n,null,{default:r(()=>[t(u,{prop:"username"},{default:r(()=>[t(a,{modelValue:e.form.password,"onUpdate:modelValue":o[1]||(o[1]=p=>e.form.password=p),placeholder:"Password","show-password":""},{prefix:r(()=>[T]),_:1},8,["modelValue"])]),_:1})]),_:1}),t(n,null,{default:r(()=>[t(c,{class:"w-full",loading:e.loading,type:"primary",onClick:l.login},{default:r(()=>[G]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["model","rules"])])}var O=z(A,[["render",H],["__scopeId","data-v-1ebf2035"]]);export{O as default};
